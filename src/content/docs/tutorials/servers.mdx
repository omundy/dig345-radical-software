---
title: Servers
description: Apache, Nginx, PHP
# draft: true
---

import CustomAside from '@/components/CustomAside.astro';

<CustomAside type="overview">{frontmatter.description}</CustomAside>





## Web Server Software 

- A web server is computer software that accepts requests via HTTP (web content network protocol) or its secure variant HTTPS.
- A web browser makes a request for a web page or other resource using HTTP, and the server responds with the content of that resource.
- According to W3Techs review of all websites in June 2022, Apache was ranked second at 31.4% and Nginx first at 33.6%, with Cloudflare Server third at 21.6%.

[NGINX vs. Apache: Which web server is better for performance and scalability?](https://www.hostinger.com/tutorials/nginx-vs-apache-what-to-use/) 

### Apache HTTP Server

- Since [1995](https://en.wikipedia.org/wiki/Apache_HTTP_Server)
- Free and open-source cross-platform web server software (Apache License).
- Usually installed on Linux (the A in the LAMP stack)
- So popular it has always been already installed on MacOS. 
- Widely capable by configuring it with additional modules.
- Apache is process-driven creating a thread per each request. 

### Nginx

- Since [2004](https://en.wikipedia.org/wiki/Nginx ). Pronounced "engine x" 
- Free and open-source cross-platform web server software (BSD license) .
- Newer, and generally considered easier to configure, thus LEMP
- Can also be used as a reverse proxy, load balancer, mail proxy and HTTP cache. 
- NGINX uses a non-threaded, event-driven architecture to handle multiple requests within a single thread. Thus, can outperform Apache if configured correctly.





## Install Nginx


Installing Nginx will 

- Let you run any script that requires a server (APIs, imports, PHP, etc.) on localhost, at any time.
- Give you a development server to test with.
- Initial installation differs per platform. Do these and go to the next slide:

import { Tabs, TabItem } from '@astrojs/starlight/components';

<Tabs>
  <TabItem label="Mac">
  
1. Install homebrew and run 

```bash
brew install nginx
brew services start nginx
nginx -v
```
2. Go to http://localhost:8080  


  </TabItem>
  <TabItem label="Windows">


1. Follow either [official](https://nginx.org/en/docs/windows.html) or [these](https://mkyong.com/nginx/nginx-php-on-windows/) instructions for installation
1. Confirm `nginx -v`
1. Go to http://localhost:8080 
  
  </TabItem>
</Tabs>





## Nginx Tips


```bash
# location of nginx.conf (Mac)
/opt/homebrew/etc/nginx/nginx.conf

# test the config file
nginx -t

# each time you update nginx.conf file
brew services restart nginx

# to see all services and their status
brew services list

# show log files (location in nginx.conf)
tail /opt/homebrew/var/log/nginx/access.log
tail /opt/homebrew/var/log/nginx/error.log

# open nginx folder for easier editing
cd /opt/homebrew/etc/nginx/
code .
```





## Install PHP (Nginx)

1. Run `brew install php`
1. Edit your nginx.conf to look like my sample: https://gist.github.com/omundy/092d1293349dd1b4f7f5729cf7233463 
1. Restart nginx, start PHP, list services to make sure both are running

```bash
brew services restart nginx
brew services start php
brew services list
```




## PHP Test 

1. Create a new file in your root directory: phpinfo.php
1. Add below text
1. Go to http://localhost (don't need 8080 port since we changed to 80 in nginx.conf) 

```php
<?php 
    phpinfo();
?>
```







## References 

- [Setting up a Nginx server on macOS](https://sylvaindurand.org/setting-up-a-nginx-web-server-on-macos/) (2017)
- [macOS: Install nginx, MySQL and PHP via brew](https://kittmedia.com/en/2021/macos-install-nginx-mysql-and-php-via-brew/) (2021)

  
